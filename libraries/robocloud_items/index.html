

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Robocloud.Items &mdash; RPA Framework  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Robot Framework API" href="../../libdoc/Robocloud/Items.html" />
    <link rel="prev" title="Python module API" href="../pdf/python.html" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151433780-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-151433780-3');
</script>
<!-- PureCookie -->
<link async rel="stylesheet" type="text/css" href="../../_static/purecookie.css"/>
<script async src="../../_static/purecookie.js"></script>
<!--            -->

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> RPA Framework
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releasenotes.html">Release notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Libraries</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../archive/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud_aws/index.html">Cloud.AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud_azure/index.html">Cloud.Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud_google/index.html">Cloud.Google</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop_clipboard/index.html">Desktop.Clipboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop_operatingsystem/index.html">Desktop.OperatingSystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop_windows/index.html">Desktop.Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dialogs/index.html">Dialogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../email_exchange/index.html">Email.Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../email_imapsmtp/index.html">Email.ImapSmtp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../excel_application/index.html">Excel.Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../excel_files/index.html">Excel.Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystem/index.html">FileSystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ftp/index.html">FTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http/index.html">HTTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images/index.html">Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netsuite/index.html">Netsuite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notifier/index.html">Notifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../outlook_application/index.html">Outlook.Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pdf/index.html">PDF</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Robocloud.Items</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../libdoc/Robocloud/Items.html">Robot Framework API</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python module API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../robocloud_secrets/index.html">Robocloud.Secrets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robotloglistener/index.html">RobotLogListener</a></li>
<li class="toctree-l1"><a class="reference internal" href="../salesforce/index.html">Salesforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sap/index.html">SAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks/index.html">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../twitter/index.html">Twitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../word_application/index.html">Word.Application</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/guide.html">Contribution guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/conventions.html">Project conventions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">RPA Framework</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Robocloud.Items</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/libraries/robocloud_items/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="robocloud-items">
<h1>Robocloud.Items<a class="headerlink" href="#robocloud-items" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#description" id="id1">Description</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id2">Examples</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id3">API Documentation</a></p></li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id1">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><cite>Items</cite> is a library for interacting with RPA work items.
Work items are used for managing data that go through multiple
activities and tasks inside a process. Each execution of an activity receives
a work item from the previous activity, and after the activity is finished, it
is forwarded to the next one. During the execution, it can freely
read and update the data contained in an item.</p>
<p>The default implementation uses Robocloud to store the data, but the library
allows using custom adapters.</p>
<div class="section" id="default-environment">
<h3>Default environment<a class="headerlink" href="#default-environment" title="Permalink to this headline">¶</a></h3>
<p>The library automatically loads the work item defined by its runtime
environment if the argument <code class="docutils literal notranslate"><span class="pre">load_env</span></code> is truthy (enabled by default).
This functionality is controlled by the following environment variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RC_WORKSPACE_ID</span></code>: The ID for the Robocloud workspace</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RC_WORKITEM_ID</span></code>:  The ID for the Robocloud work item</p></li>
</ul>
<p>These values are dynamic and should be set by Robocloud, but can be
overriden manually while developing an activity.</p>
</div>
<div class="section" id="item-structure">
<h3>Item structure<a class="headerlink" href="#item-structure" title="Permalink to this headline">¶</a></h3>
<p>A work item’s data payload is JSON and allows storing anything that is
serializable. This library creates an object with the key ‘variables’
that contains key-value pairs of a variable name and its contents.
These variables can be exposed to the Robot Framework task to be used directly.</p>
<p>In addition to the data section, a work item can also contain files,
which are stored by default in Robocorp’s cloud. Adding and using
files with work items requires no additional setup from the user.</p>
</div>
<div class="section" id="workflow">
<h3>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h3>
<p>While a work item is loaded automatically when a suite starts, changes are
not automatically reflected back to the source. The work item will be modified
locally and then saved when the corresponding keyword is explicitly called.
It is recommended to defer all saves to the end of the task to prevent
leaving work items in a half-modified state after failures.</p>
</div>
<div class="section" id="custom-adapters">
<h3>Custom adapters<a class="headerlink" href="#custom-adapters" title="Permalink to this headline">¶</a></h3>
<p>While Robocloud is the default implementation, it can also be replaced
with a custom adapter. The selection is based on either the <code class="docutils literal notranslate"><span class="pre">default_adapter</span></code>
argument for the library, or the <code class="docutils literal notranslate"><span class="pre">RPA_WORKITEMS_ADAPTER</span></code> environment
variable. A custom implementation should inherit from the <code class="docutils literal notranslate"><span class="pre">BaseAdapter</span></code>
class. The library has a built-in alternative adapter called FileAdapter for
storing work items to disk.</p>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id2">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="robot-framework">
<h3>Robot Framework<a class="headerlink" href="#robot-framework" title="Permalink to this headline">¶</a></h3>
<p>In the following example the work item is modified locally and then saved
back to Robocloud. Also note how the work item is loaded implicitly when
the suite starts.</p>
<div class="highlight-robotframework notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span><span class="p"></span>
<span class="kn">Library</span><span class="p">    </span><span class="nn">RPA.Robocloud.Items</span><span class="p"></span>

<span class="gh">*** Tasks ***</span><span class="p"></span>
<span class="gu">Save variables to Robocloud</span><span class="p"></span>
<span class="p">    </span><span class="nf">Add work item file</span><span class="p">    </span><span class="s">orders.xlsx</span><span class="p"></span>
<span class="p">    </span><span class="nf">Set work item variables</span><span class="p">    </span><span class="s">user=Dude</span><span class="p">    </span><span class="s">mail=address@company.com</span><span class="p"></span>
<span class="p">    </span><span class="nf">Save work item</span><span class="p"></span>
</pre></div>
</td></tr></table></div>
<p>Later in the process inside a different robot, we can use previously saved
work item variables and files. The library also allows injecting the variables
directly into the current task execution.</p>
<div class="highlight-robotframework notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gh">*** Settings ***</span><span class="p"></span>
<span class="kn">Library</span><span class="p">    </span><span class="nn">RPA.Robocloud.Items</span><span class="p"></span>

<span class="gh">*** Tasks ***</span><span class="p"></span>
<span class="gu">Use variables from Robocloud</span><span class="p"></span>
<span class="p">    </span><span class="nf">Set task variables from work item</span><span class="p"></span>
<span class="p">    </span><span class="nf">Log</span><span class="p">    </span><span class="s">Variables are now available: </span><span class="p">${</span><span class="nv">user</span><span class="p">}</span><span class="s">, </span><span class="p">${</span><span class="nv">mail</span><span class="p">}</span>
<span class="p">    ${</span><span class="nv">path</span><span class="p">}=    </span><span class="nf">Get work item file</span><span class="p">    </span><span class="s">orders.xlsx</span><span class="p"></span>
<span class="p">    </span><span class="nf">Log</span><span class="p">    </span><span class="s">Files are also stored to disk: </span><span class="p">${</span><span class="nv">path</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>The library can also be used through Python, but it does not implicitly
load the work item for the current execution.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">RPA.Robocloud.Items</span> <span class="kn">import</span> <span class="n">Items</span>

<span class="k">def</span> <span class="nf">list_variables</span><span class="p">(</span><span class="n">item_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load work item and log current variables&quot;&quot;&quot;</span>
    <span class="n">library</span> <span class="o">=</span> <span class="n">Items</span><span class="p">()</span>
    <span class="n">library</span><span class="o">.</span><span class="n">load_work_item_from_environment</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">variable</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">library</span><span class="o">.</span><span class="n">get_work_item_variables</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> = </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="api-documentation">
<h2><a class="toc-backref" href="#id3">API Documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../libdoc/Robocloud/Items.html">Robot Framework API</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python module API</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../libdoc/Robocloud/Items.html" class="btn btn-neutral float-right" title="Robot Framework API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../pdf/python.html" class="btn btn-neutral float-left" title="Python module API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 Robocorp Technologies, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>