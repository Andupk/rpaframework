###################
Robot Framework API
###################

***********
Description
***********

:Library scope: Global

`Secrets` is a library for interfacing secrets set in the Robocloud Vault
(used by default) or file-based secrets, which can be taken into use
by setting two environment variables below.

Robocloud Vault works together with Robocloud Worker or Robocode CLI.
Following three environment variables need to exist (these are set by
Robocloud Worker automatically and can be set manually with Robocode CLI).

- RC_API_SECRET_HOST : URL to Robocloud Secrets API
- RC_API_SECRET_TOKEN : API Token for Robocloud Secrets API
- RC_WORKSPACE_ID : Robocloud Workspace ID

File based secrets can be set by defining two environment variables.

- RPA_SECRET_MANAGER : 'RPA.Robocloud.Secrets.FileSecrets'
- RPA_SECRET_FILE : Absolute path to the secrets JSON file.

.. code-block:: json

    {
        "swaglabs": {
            "username": "standard_user",
            "password": "secret_sauce"
        }
    }

**Examples**

**Robot Framework**

.. code-block:: robotframework

    *** Settings ***
    Library    RPA.Robocloud.Secrets

    *** Tasks ***
    Reading secrets
        ${secrets}=   Get Secret  swaglabs
        Log Many      ${secrets}

**Python**

.. code-block:: python

    from RPA.Robocloud.Secrets import Secrets

    secret = Secrets()
    print(f"My secrets: {secret.get_secret('swaglabs')}")

********
Keywords
********

:Get Secret:
  :Arguments: secret_name

  Read a secret from the configured source, e.g. Robocloud Vault,
  and return it as a ``Secret`` object.

